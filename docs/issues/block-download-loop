title: block-download-loop
status: open


Качать блоки по 500 штук за раз идея была
красивая, но работает плохо даже на localhost.

Вероятно, нужно качать пачками по N штук
и перезапрашивать отдельные чанки, а не блок
целиком.

Так же, может быть можно качать блок сразу
от нескольких пиров.

Соотношение in/out нужно как-то регулировать.

Либо же решает сам передатчик, по скольку кусков
за раз посылать.

Возможно, нужно ввести явную очередь на отправку
и посылать по N пакетов за раз, что бы не переполнять
очереди сокетов.

Возможно, с этого стоит начать.

Стоит так же отметить, что сейчас у нас по одному
сокету на пира, через которых идёт вообще весь трафик.

Надо попробовать буферизовать отправку ответов.




